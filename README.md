# المنصة الاحترافية لمركز تخطيط المرور وهندسة النقل للسلامة المرورية

## نظرة عامة

هذه منصة ويب متكاملة لإدارة ومراقبة السلامة المرورية في منطقة الباحة. تم تطويرها باستخدام أحدث التقنيات لتوفير حل شامل لإدارة الحوادث المرورية، والتنبيهات، والحملات التوعوية، وتحليل البيانات.

## الميزات الرئيسية

- **لوحة تحكم تفاعلية** - عرض شامل للإحصائيات والبيانات في الوقت الفعلي
- **إدارة الحوادث** - تسجيل ومتابعة الحوادث المرورية بتفاصيل شاملة
- **نظام التنبيهات** - إشعارات فورية للحوادث والمواقف الطارئة
- **خرائط تفاعلية** - عرض البيانات المكانية باستخدام تقنيات GIS
- **تحليل البيانات** - رسوم بيانية وتقارير تفصيلية
- **إدارة الحملات** - تخطيط وتنفيذ حملات التوعية المرورية
- **الإدخال الميداني** - واجهة محسنة للأجهزة المحمولة

## التقنيات المستخدمة

### الواجهة الأمامية
- HTML5, CSS3, JavaScript
- Tailwind CSS للتصميم المتجاوب
- Leaflet.js للخرائط التفاعلية
- Chart.js للرسوم البيانية
- Font Awesome للأيقونات

### الخادم الخلفي
- Python 3.8+
- Flask - إطار عمل الويب
- SQLAlchemy - ORM لقاعدة البيانات
- Flask-CORS - دعم CORS

### قاعدة البيانات
- SQLite (للتطوير)
- PostgreSQL (موصى به للإنتاج)

## التثبيت السريع

### المتطلبات
- Python 3.8 أو أحدث
- pip (مدير حزم Python)

### خطوات التثبيت

1. **استنساخ المشروع**
   ```bash
   git clone <repository-url>
   cd traffic_platform
   ```

2. **إعداد البيئة الافتراضية**
   ```bash
   cd traffic_api
   python -m venv venv
   source venv/bin/activate  # في Linux/Mac
   # أو
   venv\Scripts\activate     # في Windows
   ```

3. **تثبيت المتطلبات**
   ```bash
   pip install -r requirements.txt
   ```

4. **تشغيل التطبيق**
   ```bash
   python src/main.py
   ```

5. **الوصول للمنصة**
   افتح المتصفح وانتقل إلى: `http://localhost:5000`

## إنشاء بيانات تجريبية

لإنشاء بيانات تجريبية للاختبار، استخدم وحدة تحكم المطور في المتصفح:

```javascript
window.db.seedSampleData().then(() => {
    console.log('تم إنشاء البيانات التجريبية بنجاح');
    location.reload();
});
```

## هيكل المشروع

```
traffic_platform/
├── traffic_api/                 # الخادم الخلفي
│   ├── src/
│   │   ├── main.py             # ملف التطبيق الرئيسي
│   │   ├── models/             # نماذج قاعدة البيانات
│   │   ├── routes/             # مسارات API
│   │   └── static/             # الملفات الثابتة (الواجهة الأمامية)
│   ├── venv/                   # البيئة الافتراضية
│   └── requirements.txt        # متطلبات Python
├── assets/                     # ملفات الواجهة الأمامية (نسخة منفصلة)
├── index.html                  # الصفحة الرئيسية (نسخة منفصلة)
├── دليل_التشغيل_والنشر.md      # دليل شامل للتشغيل والنشر
└── README.md                   # هذا الملف
```

## واجهة برمجة التطبيقات (API)

### نقاط النهاية الرئيسية

- `GET /api/accidents` - جلب جميع الحوادث
- `POST /api/accidents` - إضافة حادث جديد
- `GET /api/alerts` - جلب جميع التنبيهات
- `POST /api/alerts` - إضافة تنبيه جديد
- `GET /api/campaigns` - جلب جميع الحملات
- `GET /api/statistics/dashboard` - إحصائيات لوحة التحكم
- `POST /api/seed-data` - إنشاء بيانات تجريبية

### مثال على الاستخدام

```javascript
// جلب جميع الحوادث
fetch('/api/accidents')
  .then(response => response.json())
  .then(data => console.log(data));

// إضافة حادث جديد
fetch('/api/accidents', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    type: 'تصادم',
    severity: 'متوسط',
    location: 'شارع الملك فهد',
    date: '2024-01-15',
    time: '14:30'
  })
});
```

## النشر في الإنتاج

للنشر في بيئة الإنتاج، يُنصح بـ:

1. استخدام خادم ويب إنتاجي مثل Nginx
2. استخدام خادم تطبيقات WSGI مثل Gunicorn
3. الانتقال إلى قاعدة بيانات PostgreSQL
4. إعداد HTTPS باستخدام شهادات SSL
5. تكوين النسخ الاحتياطي المنتظم

راجع `دليل_التشغيل_والنشر.md` للحصول على تعليمات مفصلة.

## المساهمة

نرحب بالمساهمات لتحسين المنصة. يرجى:

1. إنشاء fork للمشروع
2. إنشاء branch جديد للميزة
3. إجراء التغييرات المطلوبة
4. اختبار التغييرات بعناية
5. إرسال pull request

## الدعم

للحصول على الدعم أو الإبلاغ عن مشاكل:

- راجع `دليل_التشغيل_والنشر.md` للحصول على دليل شامل
- تحقق من قسم "استكشاف الأخطاء وإصلاحها" في الدليل
- تواصل مع فريق التطوير للمساعدة التقنية

## الترخيص

هذا المشروع مطور خصيصاً لمركز تخطيط المرور وهندسة النقل للسلامة المرورية - منطقة الباحة.

## الإصدار

**الإصدار الحالي:** 1.0  
**تاريخ الإصدار:** ديسمبر 2024  
**المطور:** Manus AI

---

© 2024 مركز تخطيط المرور وهندسة النقل للسلامة المرورية - منطقة الباحة

